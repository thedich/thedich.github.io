var scope=this,_search=function(a,b){function c(){if(void 0==a)var a=0;for(var b="&ft="+this.ft,c=this.maxrequest-a,d=this,e=0;c>e;e++){var f=scope.pull.shift(),g="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest,h=new g;f&&(h.open("GET",this.url+encodeURI(f)+b,!0),h.withCredentials=!0,h.setRequestHeader("Access-Control-Allow-Origin",this.domain),h.onload=function(){console.log("request--next : ok"),d.parceXMLLink(this.responseText);var a=scope.pull.shift();d.sended--,a&&d.request()},h.onerror=function(){console.log("request--next : fail");var a=scope.pull.shift();d.sended--,a&&d.request()},h.send(),a++);var i=this.maxrequest-a;console.log("__FREE_REQUSTS__: "+i)}}var d=b;if(scope.pull||(scope.pull=[]),scope.stats||(scope.stats={}),scope.cache||(scope.cache={}),this.cachetime||(this.cachetime=40),this.prettyprint||(this.prettyprint=!0),this.maxrequest||(this.maxrequest=10),this.url||(this.url="http://blogs.yandex.ru/search.rss?text="),this.ft||(this.ft="blog,forum,comments"),this.domain||(this.domain="http://example.com"),d)for(var e in d)this.hasOwnProperty(e)&&(this[e]=d[e]);if(!a)return console.log("QUERY_ERROR---Query in Empty"),"^___^";try{a.charAt(0)}catch(f){return console.log("QUERY_ERROR---Query in NOT a String"),"^___^"}!function(a){for(var b=a.split("&"),c=0;c<b.length;c++)scope.pull.push(b[c].split("=")[1])}(a),c(),_search.getStats=function(){return this.prettyprint||JSON.stringify(scope.stats),JSON.stringify(scope.stats,null,2)}};